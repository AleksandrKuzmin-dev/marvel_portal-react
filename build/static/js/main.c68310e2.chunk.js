(this.webpackJsonpmarvel=this.webpackJsonpmarvel||[]).push([[0],[,,,,,,,,,,,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(5),i=c.n(a),n=c(4),r=c(3),l=(c(11),c(1));var o=()=>Object(l.jsxs)("header",{className:"app__header",children:[Object(l.jsx)("h1",{className:"app__title",children:Object(l.jsxs)(n.b,{to:"/",children:[Object(l.jsx)("span",{children:"Marvel"})," information portal"]})}),Object(l.jsx)("nav",{className:"app__menu",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(n.c,{to:"/",end:!0,style:e=>{let{isActive:t}=e;return{color:t?"#9f0013":"inherit"}},children:"Characters"})}),"/",Object(l.jsx)("li",{children:Object(l.jsx)(n.c,{to:"/comics",style:e=>{let{isActive:t}=e;return{color:t?"#9f0013":"inherit"}},children:"Comics"})})]})})]}),j=c.p+"static/media/error.42292aa1.gif";var m=()=>Object(l.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:j,alt:"Error"});class b extends s.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e,t){console.log(e,t),this.setState({error:!0})}render(){return this.state.error?Object(l.jsx)(m,{}):this.props.children}}var d=b,h=(c(13),c.p+"static/media/mjolnir.61f31e18.png");var u=()=>{const e="https://gateway.marvel.com:443/v1/public/",t="apikey=95c456a7ea2c5345495bb580c088c93e",{loading:c,error:a,request:i}=(()=>{const[e,t]=Object(s.useState)(!0),[c,a]=Object(s.useState)(!1);return{loading:e,error:c,request:Object(s.useCallback)((async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};a(null),t(!0);try{const c=await fetch(e,{method:s,body:i,headers:n});if(!c.ok)throw new Error("Could not fetch ".concat(e,", status: ").concat(c.status));const a=await c.json();return t(!1),a}catch(c){throw t(!1),a(c),c}}),[])}})(),n=e=>({id:e.id,name:e.name,description:e.description,thumbnail:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}),r=e=>{var t;return{id:e.id,title:e.title,description:e.description||"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0438\u043a\u0441\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442",thumbnail:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),language:(null===(t=e.textObjects[0])||void 0===t?void 0:t.language)||"en-us",pages:e.pageCount?"".concat(e.pageCount," pages"):"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446",price:e.prices[0].price?"".concat(e.prices[0].price,"$"):"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430",url:e.urls[0].url}};return{loading:c,error:a,getAllCharacters:async function(){let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:210;const a=await i("".concat(e,"characters?limit=").concat(c,"&offset=").concat(s,"&").concat(t));return a.data.results.map(n)},getCharacter:async c=>{const s=await i("".concat(e,"characters/").concat(c,"?").concat(t));return n(s.data.results[0])},getAllComics:async function(){let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const a=await i("".concat(e,"comics?limit=").concat(s,"&offset=").concat(c,"&").concat(t));return a.data.results.map((e=>r(e)))},getComic:async c=>{const s=await i("".concat(e,"comics/").concat(c,"?").concat(t));return r(s.data.results[0])}}};var O=(e,t)=>0===e.length?"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043c\u044b \u0435\u0449\u0451 \u043d\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u043b\u0438 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430 :)":e.length<t?e:e.slice(0,t-3)+"...";var x=()=>Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{margin:"0 auto",background:"none",display:"block"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:[Object(l.jsx)("g",{transform:"translate(80,50)",children:Object(l.jsx)("g",{transform:"rotate(0)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"1",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.875s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.875s"})]})})}),Object(l.jsx)("g",{transform:"translate(71.21320343559643,71.21320343559643)",children:Object(l.jsx)("g",{transform:"rotate(45)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.875",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.75s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.75s"})]})})}),Object(l.jsx)("g",{transform:"translate(50,80)",children:Object(l.jsx)("g",{transform:"rotate(90)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.75",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.625s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.625s"})]})})}),Object(l.jsx)("g",{transform:"translate(28.786796564403577,71.21320343559643)",children:Object(l.jsx)("g",{transform:"rotate(135)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.625",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.5s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.5s"})]})})}),Object(l.jsx)("g",{transform:"translate(20,50.00000000000001)",children:Object(l.jsx)("g",{transform:"rotate(180)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.5",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.375s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.375s"})]})})}),Object(l.jsx)("g",{transform:"translate(28.78679656440357,28.786796564403577)",children:Object(l.jsx)("g",{transform:"rotate(225)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.375",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.25s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.25s"})]})})}),Object(l.jsx)("g",{transform:"translate(49.99999999999999,20)",children:Object(l.jsx)("g",{transform:"rotate(270)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.25",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.125s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.125s"})]})})}),Object(l.jsx)("g",{transform:"translate(71.21320343559643,28.78679656440357)",children:Object(l.jsx)("g",{transform:"rotate(315)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.125",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"0s"})]})})})]});const p=e=>{let{char:t}=e;const{name:c,description:s,thumbnail:a,homepage:i,wiki:n}=t;let r={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a&&(r={objectFit:"contain"}),Object(l.jsxs)("div",{className:"randomchar__block",children:[Object(l.jsx)("img",{src:a,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 ".concat(c),className:"randomchar__img",style:r}),Object(l.jsxs)("div",{className:"randomchar__info",children:[Object(l.jsx)("p",{className:"randomchar__name",children:c}),Object(l.jsx)("p",{className:"randomchar__descr",children:s}),Object(l.jsxs)("div",{className:"randomchar__btns",children:[Object(l.jsx)("a",{href:i,className:"button button__main",target:"_blank",rel:"noreferrer",children:Object(l.jsx)("div",{className:"inner",children:"homepage"})}),Object(l.jsx)("a",{href:n,className:"button button__secondary",target:"_blank",rel:"noreferrer",children:Object(l.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})};var g=()=>{const[e,t]=Object(s.useState)({}),{loading:c,error:a,getCharacter:i}=u();Object(s.useEffect)((()=>{r()}),[]);const n=e=>{t({...e,description:O(e.description,230)})},r=()=>{const e=Math.floor(400*Math.random()+1011e3);i(e).then(n).catch((e=>console.log(e)))},o=a?Object(l.jsx)(m,{}):null,j=c?Object(l.jsx)(x,{}):null,b=a||c?null:Object(l.jsx)(p,{char:e});return Object(l.jsxs)("div",{className:"randomchar",children:[j,o,b,Object(l.jsxs)("div",{className:"randomchar__static",children:[Object(l.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",Object(l.jsx)("br",{}),"Do you want to get to know him better?"]}),Object(l.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),Object(l.jsx)("button",{className:"button button__main",onClick:r,children:Object(l.jsx)("div",{className:"inner",children:"try it"})}),Object(l.jsx)("img",{src:h,alt:"mjolnir",className:"randomchar__decoration"})]})]})};c(14);var _=e=>{const[t,c]=Object(s.useState)([]),[a,i]=Object(s.useState)(null),[n,r]=Object(s.useState)(210),[o,j]=Object(s.useState)(!1),[b,d]=Object(s.useState)(!1),{loading:h,error:O,getAllCharacters:p}=u(),g=()=>{p(9,n).then((e=>(e=>{let t=!1;1564-n<=9&&(t=!0),c((t=>[...t,...e])),r((e=>e+9)),j(t),d(!0)})(e))).catch((e=>console.log(e)))},_=(t,c)=>{e.onUpdateSelectedChar(t),i(t.id),c.focus()};Object(s.useEffect)((()=>{g()}),[]);const f=h&&!b?Object(l.jsx)(x,{}):null,v=O?Object(l.jsx)(m,{}):null,y=(e=>{const t=e.map((e=>{let t={objectFit:"cover"};const c=a===e.id?"char__item char__item_selected":"char__item";return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===e.thumbnail&&(t={objectFit:"unset"}),Object(l.jsxs)("li",{className:c,onClick:t=>{_(e,t.target)},onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),_(e,t.target))},tabIndex:0,children:[Object(l.jsx)("img",{src:e.thumbnail,alt:e.name,style:t}),Object(l.jsx)("div",{className:"char__name",children:e.name})]},e.id)}));return Object(l.jsx)("ul",{className:"char__grid",children:t})})(t);return Object(l.jsxs)("div",{className:"char__list",children:[f,v,y,Object(l.jsx)("button",{className:"button button__main button__long",onClick:e=>g(),style:{display:o?"none":"block"},disabled:h,children:Object(l.jsx)("div",{className:"inner",children:"load more"})})]})};c(15);var f=()=>Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),Object(l.jsxs)("div",{className:"skeleton",children:[Object(l.jsxs)("div",{className:"pulse skeleton__header",children:[Object(l.jsx)("div",{className:"pulse skeleton__circle"}),Object(l.jsx)("div",{className:"pulse skeleton__mini"})]}),Object(l.jsx)("div",{className:"pulse skeleton__block"}),Object(l.jsx)("div",{className:"pulse skeleton__block"}),Object(l.jsx)("div",{className:"pulse skeleton__block"})]})]});c(16);var v=e=>{const t=e=>Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"char__comics",children:"Comics:"}),0===e.length?Object(l.jsx)("div",{children:"\u041a\u043e\u043c\u0438\u043a\u0441\u043e\u0432 \u0441 \u044d\u0442\u0438\u043c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0435\u043c \u043d\u0435\u0442"}):null,Object(l.jsx)("ul",{className:"char__comics-list",children:e.map(((e,t)=>{if(t>8)return null;const c=e.resourceURI.replace("http://gateway.marvel.com/v1/public/comics/","");return Object(l.jsx)(n.b,{className:"char__comics-item",to:"/comics/".concat(c),children:e.name},t)}))})]}),{selectedChar:c}=e,s=c?(e=>{const{name:c,description:s,thumbnail:a,homepage:i,wiki:n,comics:r}=e,o="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a?{objectFit:"unset"}:{objectFit:"cover"};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"char__basics",children:[Object(l.jsx)("img",{src:a,alt:c,style:o}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"char__info-name",children:c}),Object(l.jsxs)("div",{className:"char__btns",children:[Object(l.jsx)("a",{href:i,className:"button button__main",children:Object(l.jsx)("div",{className:"inner",children:"homepage"})}),Object(l.jsx)("a",{href:n,className:"button button__secondary",children:Object(l.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),Object(l.jsx)("div",{className:"char__descr",children:s}),t(r)]})})(c):Object(l.jsx)(f,{});return Object(l.jsx)("div",{className:"char__info",children:s})},y=c.p+"static/media/vision.067d4ae1.png";var N=()=>{const[e,t]=Object(s.useState)(null);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{children:Object(l.jsx)(g,{})}),Object(l.jsxs)("div",{className:"char__content",children:[Object(l.jsx)(d,{children:Object(l.jsx)(_,{onUpdateSelectedChar:e=>{t(e)}})}),Object(l.jsx)(d,{children:Object(l.jsx)(v,{selectedChar:e})})]}),Object(l.jsx)("img",{className:"bg-decoration",src:y,alt:"vision"})]})};c(17);var k=()=>{const[e,t]=Object(s.useState)([]),[c,a]=Object(s.useState)(0),[i,r]=Object(s.useState)(!1),[o,j]=Object(s.useState)(!1),{getAllComics:b,loading:d,error:h}=u();Object(s.useEffect)((()=>{O()}),[]);const O=()=>{b(c).then((e=>(e=>{c>=59331&&r(!0),t((t=>[...t,...e])),a((e=>e+8)),j(!0)})(e))).catch((e=>console.log(e)))},p=(e=>{const t=e.map(((e,t)=>{const c=0===e.price?"NOT AVAILABLE":"".concat(e.price,"$");return Object(l.jsx)("li",{className:"comics__item",children:Object(l.jsxs)(n.b,{to:"".concat(e.id),children:[Object(l.jsx)("img",{src:e.thumbnail,alt:e.title,className:"comics__item-img"}),Object(l.jsx)("div",{className:"comics__item-name",children:e.title}),Object(l.jsx)("div",{className:"comics__item-price",children:c})]})},t)}));return Object(l.jsx)("ul",{className:"comics__grid",children:t})})(e),g=d&&!o?Object(l.jsx)(x,{}):null,_=h?Object(l.jsx)(m,{}):null;return Object(l.jsxs)("div",{className:"comics__list",children:[g,_,p,Object(l.jsx)("button",{className:"button button__main button__long",onClick:O,style:{display:i?"none":"block"},disabled:d,children:Object(l.jsx)("div",{className:"inner",children:"load more"})})]})};var C=()=>Object(l.jsx)(d,{children:Object(l.jsx)(k,{})});c(18);const T=e=>{let{comic:t}=e;const{thumbnail:c,title:s,description:a,pages:i,price:r,language:o}=t;return Object(l.jsxs)("div",{className:"single-comic",children:[Object(l.jsx)("img",{src:c,alt:s,className:"single-comic__img"}),Object(l.jsxs)("div",{className:"single-comic__info",children:[Object(l.jsx)("h2",{className:"single-comic__name",children:s}),Object(l.jsx)("p",{className:"single-comic__descr",children:a}),Object(l.jsx)("p",{className:"single-comic__descr",children:i}),Object(l.jsxs)("p",{className:"single-comic__descr",children:["Language: ",o]}),Object(l.jsx)("div",{className:"single-comic__price",children:r})]}),Object(l.jsx)(n.b,{to:"/comics",className:"single-comic__back",children:"Back to all"})]})};var w=()=>{const[e,t]=Object(s.useState)(null),{comicId:c}=Object(r.q)(),{getComic:a,loading:i,error:n}=u();Object(s.useEffect)((()=>{j(c)}),[c]);const o=e=>{t(e)},j=e=>{a(e).then(o).catch((e=>console.log(e)))},b=n?Object(l.jsx)(m,{}):null,d=i?Object(l.jsx)(x,{}):null,h=n||i||!e?null:Object(l.jsx)(T,{comic:e});return Object(l.jsxs)(l.Fragment,{children:[b,d,h]})};var S=()=>Object(l.jsx)(d,{children:Object(l.jsx)(w,{})});var F=()=>Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m,{}),Object(l.jsx)("p",{style:{textAlign:"center",marginTop:"15px"},children:"\u0422\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}),Object(l.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(n.b,{to:"/",style:{padding:"16px 32px",marginTop:"30px",display:"inline-block",border:"1px solid red"},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e "})})]});var A=()=>Object(l.jsx)(n.a,{children:Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(o,{}),Object(l.jsx)("main",{children:Object(l.jsxs)(r.c,{children:[Object(l.jsx)(r.a,{path:"/",element:Object(l.jsx)(N,{})}),Object(l.jsxs)(r.a,{path:"/comics",children:[Object(l.jsx)(r.a,{index:!0,element:Object(l.jsx)(C,{})}),Object(l.jsx)(r.a,{path:":comicId",element:Object(l.jsx)(S,{})})]}),Object(l.jsx)(r.a,{path:"*",element:Object(l.jsx)(F,{})})]})})]})});c(19);i.a.render(Object(l.jsx)(A,{}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.c68310e2.chunk.js.map